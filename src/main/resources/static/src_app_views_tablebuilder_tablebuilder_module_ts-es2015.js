(self.webpackChunk_coreui_coreui_free_angular_admin_template=self.webpackChunk_coreui_coreui_free_angular_admin_template||[]).push([["src_app_views_tablebuilder_tablebuilder_module_ts"],{42344:function(e,t,a){"use strict";a.r(t),a.d(t,{TablebuilderModule:function(){return F}});var i=a(64762),l=a(33018),r=a(38583),o=a(90665),s=a(9517),d=a(15574),n=a(75298),c=a(96255),h=a(6111),m=a(33013);let u=class{constructor(e,t,a,i,l,r,o,s){this.route=e,this.router=t,this.service=a,this.cd=i,this.user=l,this.injector=r,this.messageService=o,this.confirmationService=s,this.ModuleID="",this.displayDialog=!1,this.displayDialog2=!1,this.virtualdata=[],this.virtualdata2=[],this.FormData=[],this.FormData2=[],this.formValue=[],this.tableSchema=[],this.tableSchema2=[],this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}onclickEvent(e){switch(e.action){case"edit3":this.editdata(e);break;case"edit2":this.editdata2(e);break;case"delete3":case"delete2":this.deletedata(e);break;default:this.onclickEventFormWithNoAction(e)}}createNew(){this.Form.resetForm(),this.displayDialog=!0}createNew2(){this.Form2.resetForm(),this.displayDialog2=!0}editdata(e){this.displayDialog=!0,this.Form.updateAngForm(e.data)}editdata2(e){this.displayDialog2=!0,this.Form2.updateAngForm(e.data)}deletedata(e){this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:()=>{this.onclickEventForm(e)}})}showDialogMaximized(e){setTimeout(()=>{const e=document.getElementsByClassName("pi-window-maximize")[0];setTimeout(()=>{e.click()},0)},0)}ngOnInit(){if(this.tableSchema.mainschema=[],this.tableSchema.buttonSchema=[],this.pageTitle=this.route.snapshot.data.title,this.ModuleID=this.route.snapshot.queryParams.ModuleID||"",""!==this.ModuleID){this.getData(),this.tableSchema.mainschema=[{field:"field",header:"DB Column Name",type:"text",width:"auto",isActive:!0},{field:"header",header:"Header",type:"text",width:"auto",isActive:!0},{field:"type",header:"Type",type:"text",width:"auto",isActive:!0},{field:"width",header:"Width",type:"text",width:"auto",isActive:!0},{field:"isActive",header:"Status",type:"status",width:"auto",isActive:!0}],this.tableSchema.buttonSchema=[{icon:"pi-pencil",tooltip:"Edit",action:"edit3"},{icon:"pi-trash",tooltip:"Delete",action:"delete3"}],this.tableSchema.serviceName="FormAndTableService",this.tableSchema2.serviceName="FormAndTableService";var e=[{FormId:"htu61",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"field",Label:"DB Column Name",PlaceHolder:"DB Column Name",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu62",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"header",Label:"Header",PlaceHolder:"Header",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu63",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"type",Label:"Type",PlaceHolder:"Type",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu64",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"width",Label:"Width",PlaceHolder:"Width",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu65",FieldLable:"Switch",Fieldname:"inputswitch",icon:"fa-check-circle",size:{name:"12",code:12},DBColName:"isActive",Label:"Status",PlaceHolder:"Switch",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",functionName:""},{FormId:"",FieldLable:"Submit Button",Fieldname:"submitbutton",icon:"fa-check",size:{name:"12",code:12},Label:"Submit",LabelIcon:"pi pi-check",ID:"",Class:"p-button-secondary float-right",functionName:"submittabledata"}];setTimeout(()=>{e.forEach(e=>{this.FormData.push(e),"dropdown"==e.Fieldname&&this.Form.updateOptionbyurl(e),this.Form.updateAngForm()}),this.cd.detectChanges()},500),this.tableSchema2.mainschema=[{field:"icon",header:"Icon",type:"text",width:"auto",isActive:!0},{field:"tooltip",header:"ToolTip",type:"text",width:"auto",isActive:!0},{field:"action",header:"Action",type:"text",width:"auto",isActive:!0},{field:"isActive",header:"Status",type:"status",width:"auto",isActive:!0}],this.tableSchema2.buttonSchema=[{icon:"pi-pencil",tooltip:"Edit",action:"edit2"},{icon:"pi-trash",tooltip:"Delete",action:"delete2"}];var t=[{FormId:"htu611",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"icon",Label:"Icon",PlaceHolder:"Icon",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu621",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"toolTip",Label:"Tooltip",PlaceHolder:"Tooltip",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu631",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"action",Label:"Action",PlaceHolder:"Action",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu641",FieldLable:"Switch",Fieldname:"inputswitch",icon:"fa-check-circle",size:{name:"12",code:12},DBColName:"isActive",Label:"Status",PlaceHolder:"Switch",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",functionName:""},{FormId:"",FieldLable:"Submit Button",Fieldname:"submitbutton",icon:"fa-check",size:{name:"12",code:12},Label:"Submit",LabelIcon:"pi pi-check",ID:"",Class:"p-button-secondary float-right",functionName:"submittabledata2"}];setTimeout(()=>{t.forEach(e=>{this.FormData2.push(e),"dropdown"==e.Fieldname&&this.Form2.updateOptionbyurl(e),this.Form2.updateAngForm()}),this.cd.detectChanges()},500)}else console.log("Error: in loading module id")}getData(){this.service.getTableMainSchema(this.ModuleID).subscribe(e=>{this.virtualdata=e.results,this.cd.detectChanges()},e=>{}),this.service.getTableButtonSchema(this.ModuleID).subscribe(e=>{this.virtualdata2=e.results,this.cd.detectChanges()},e=>{})}onclickEventFormWithNoAction(e){let t=e.action;if(this.service[t]){let a=e.data;this.service[t](a,this.ModuleID)}}onclickEventForm(e){let t=e.action;if(this.service[t]){let a=e.data;this.service[t](a,this.ModuleID).subscribe(e=>{1==e.status?(this.displayDialog=!1,this.displayDialog2=!1,this.getData(),this.Form.resetForm(),this.messageService.add({severity:"success",summary:e.message,detail:""})):this.messageService.add({severity:"success",summary:"Error:",detail:e})},e=>{this.messageService.add({severity:"success",summary:e,detail:""})})}}};u.ctorParameters=()=>[{type:c.gz},{type:c.F0},{type:h.vq},{type:l.sBO},{type:h.KD},{type:l.zs3},{type:m.ez},{type:m.YP}],u.propDecorators={Form:[{type:l.i9L,args:["Form",{static:!1}]}],Form2:[{type:l.i9L,args:["Form2",{static:!1}]}]},u=(0,i.gn)([(0,l.wA2)({selector:"app-tablebuilder",template:'<div class="animated fadeIn">\r\n    <div class="row">\r\n      <div class="col-md-12" *ngIf="tableSchema[\'mainschema\'].length > 0 && tableSchema[\'buttonSchema\'].length > 0">\r\n        <div class="card">\r\n          <div class="card-header">\r\n            Table Data\r\n\r\n            <div class="card-header-actions" style="height: 21px;">\r\n                <button pButton class="btn btn-block btn-primary" (click)="createNew()" label="Create New" type="button" icon="pi pi-plus" iconPos="left"></button>\r\n            </div>\r\n          </div>\r\n          <div class="card-body datatable">\r\n            <app-datatable  [tableData]="virtualdata" [tableSchema]="tableSchema" (onclickEvent)="onclickEvent($event)"></app-datatable>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="card">\r\n            <div class="card-header">\r\n              Button Data\r\n\r\n              <div class="card-header-actions" style="height: 21px;">\r\n                  <button pButton class="btn btn-block btn-primary" (click)="createNew2()" label="Create New" type="button" icon="pi pi-plus" iconPos="left"></button>\r\n              </div>\r\n            </div>\r\n            <div class="card-body datatable">\r\n              <app-datatable  [tableData]="virtualdata2" [tableSchema]="tableSchema2" (onclickEvent)="onclickEvent($event)"></app-datatable>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n<p-dialog header="{{pageTitle}}"  [(visible)]="displayDialog" [modal]="true" [style]="{width: \'80vw\'}" [maximizable]="true" [baseZIndex]="10000"\r\n    [draggable]="false" [resizable]="false">\r\n    <app-form #Form [formData]="FormData"  [type]="\'\'" (onclickEvent)="onclickEventForm($event)"></app-form>\r\n</p-dialog>\r\n\r\n<p-dialog header="{{pageTitle}}" [(visible)]="displayDialog2" [modal]="true" [style]="{width: \'80vw\'}" [maximizable]="true" [baseZIndex]="10000"\r\n    [draggable]="false" [resizable]="false">\r\n    <app-form #Form2 [formData]="FormData2"  [type]="\'\'" (onclickEvent)="onclickEventForm($event)"></app-form>\r\n</p-dialog>\r\n\r\n<p-toast position="top-center"></p-toast>\r\n<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>\r\n',providers:[m.ez,m.YP],styles:[""]})],u);const p=[{path:"",component:u,data:{title:"Table Builder"}}];let b=class{};b=(0,i.gn)([(0,l.LVF)({imports:[c.Bz.forChild(p)],exports:[c.Bz]})],b);let F=class{};F=(0,i.gn)([(0,l.LVF)({declarations:[u,s.U,d.n],imports:[r.ez,r.ez,o.UX,o.u5,n.v,b]})],F)}}]);
//# sourceMappingURL=src_app_views_tablebuilder_tablebuilder_module_ts-es2015.js.map