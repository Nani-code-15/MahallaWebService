!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunk_coreui_coreui_free_angular_admin_template=self.webpackChunk_coreui_coreui_free_angular_admin_template||[]).push([["src_app_views_tablebuilder_tablebuilder_module_ts"],{42344:function(t,i,l){"use strict";l.r(i),l.d(i,{TablebuilderModule:function(){return F}});var o=l(64762),r=l(33018),n=l(38583),c=l(90665),s=l(9517),d=l(15574),u=l(75298),m=l(96255),h=l(73495),p=l(33013),b=function(){function t(a,i,l,o,r,n,c,s){e(this,t),this.route=a,this.router=i,this.service=l,this.cd=o,this.user=r,this.injector=n,this.messageService=c,this.confirmationService=s,this.ModuleID="",this.displayDialog=!1,this.displayDialog2=!1,this.virtualdata=[],this.virtualdata2=[],this.FormData=[],this.FormData2=[],this.formValue=[],this.tableSchema=[],this.tableSchema2=[],this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return a(t,[{key:"onclickEvent",value:function(e){switch(e.action){case"edit3":this.editdata(e);break;case"edit2":this.editdata2(e);break;case"delete3":case"delete2":this.deletedata(e);break;default:this.onclickEventFormWithNoAction(e)}}},{key:"createNew",value:function(){this.Form.resetForm(),this.displayDialog=!0}},{key:"createNew2",value:function(){this.Form2.resetForm(),this.displayDialog2=!0}},{key:"editdata",value:function(e){this.displayDialog=!0,this.Form.updateAngForm(e.data)}},{key:"editdata2",value:function(e){this.displayDialog2=!0,this.Form2.updateAngForm(e.data)}},{key:"deletedata",value:function(e){var t=this;this.confirmationService.confirm({message:"Are you sure that you want to perform this action?",accept:function(){t.onclickEventForm(e)}})}},{key:"showDialogMaximized",value:function(e){setTimeout(function(){var e=document.getElementsByClassName("pi-window-maximize")[0];setTimeout(function(){e.click()},0)},0)}},{key:"ngOnInit",value:function(){var e=this;if(this.tableSchema.mainschema=[],this.tableSchema.buttonSchema=[],this.pageTitle=this.route.snapshot.data.title,this.ModuleID=this.route.snapshot.queryParams.ModuleID||"",""!==this.ModuleID){this.getData(),this.tableSchema.mainschema=[{field:"field",header:"DB Column Name",type:"text",width:"auto",isActive:!0},{field:"header",header:"Header",type:"text",width:"auto",isActive:!0},{field:"type",header:"Type",type:"text",width:"auto",isActive:!0},{field:"width",header:"Width",type:"text",width:"auto",isActive:!0},{field:"isActive",header:"Status",type:"status",width:"auto",isActive:!0}],this.tableSchema.buttonSchema=[{icon:"pi-pencil",tooltip:"Edit",action:"edit3"},{icon:"pi-trash",tooltip:"Delete",action:"delete3"}],this.tableSchema.serviceName="FormAndTableService",this.tableSchema2.serviceName="FormAndTableService";var t=[{FormId:"htu61",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"field",Label:"DB Column Name",PlaceHolder:"DB Column Name",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu62",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"header",Label:"Header",PlaceHolder:"Header",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu63",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"type",Label:"Type",PlaceHolder:"Type",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu64",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"width",Label:"Width",PlaceHolder:"Width",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu65",FieldLable:"Switch",Fieldname:"inputswitch",icon:"fa-check-circle",size:{name:"12",code:12},DBColName:"isActive",Label:"Status",PlaceHolder:"Switch",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",functionName:""},{FormId:"",FieldLable:"Submit Button",Fieldname:"submitbutton",icon:"fa-check",size:{name:"12",code:12},Label:"Submit",LabelIcon:"pi pi-check",ID:"",Class:"p-button-secondary float-right",functionName:"submittabledata"}];setTimeout(function(){t.forEach(function(t){e.FormData.push(t),"dropdown"==t.Fieldname&&e.Form.updateOptionbyurl(t),e.Form.updateAngForm()}),e.cd.detectChanges()},500),this.tableSchema2.mainschema=[{field:"icon",header:"Icon",type:"text",width:"auto",isActive:!0},{field:"tooltip",header:"ToolTip",type:"text",width:"auto",isActive:!0},{field:"action",header:"Action",type:"text",width:"auto",isActive:!0},{field:"isActive",header:"Status",type:"status",width:"auto",isActive:!0}],this.tableSchema2.buttonSchema=[{icon:"pi-pencil",tooltip:"Edit",action:"edit2"},{icon:"pi-trash",tooltip:"Delete",action:"delete2"}];var a=[{FormId:"htu611",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"icon",Label:"Icon",PlaceHolder:"Icon",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu621",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"toolTip",Label:"Tooltip",PlaceHolder:"Tooltip",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu631",FieldLable:"Text Field",Fieldname:"inputtext",icon:"fa-text-width",size:{name:"6",code:6},DBColName:"action",Label:"Action",PlaceHolder:"Action",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",pKeyFilter:{name:"All",code:"all"},pKeyFilterOther:"",functionName:""},{FormId:"htu641",FieldLable:"Switch",Fieldname:"inputswitch",icon:"fa-check-circle",size:{name:"12",code:12},DBColName:"isActive",Label:"Status",PlaceHolder:"Switch",ErrorTxt:"",ID:"",Class:"",Required:!0,HelpTxt:"",functionName:""},{FormId:"",FieldLable:"Submit Button",Fieldname:"submitbutton",icon:"fa-check",size:{name:"12",code:12},Label:"Submit",LabelIcon:"pi pi-check",ID:"",Class:"p-button-secondary float-right",functionName:"submittabledata2"}];setTimeout(function(){a.forEach(function(t){e.FormData2.push(t),"dropdown"==t.Fieldname&&e.Form2.updateOptionbyurl(t),e.Form2.updateAngForm()}),e.cd.detectChanges()},500)}else console.log("Error: in loading module id")}},{key:"getData",value:function(){var e=this;this.service.getTableMainSchema(this.ModuleID).subscribe(function(t){e.virtualdata=t.results,e.cd.detectChanges()},function(e){}),this.service.getTableButtonSchema(this.ModuleID).subscribe(function(t){e.virtualdata2=t.results,e.cd.detectChanges()},function(e){})}},{key:"onclickEventFormWithNoAction",value:function(e){var t=e.action;if(this.service[t]){var a=e.data;this.service[t](a,this.ModuleID)}}},{key:"onclickEventForm",value:function(e){var t=this,a=e.action;if(this.service[a]){var i=e.data;this.service[a](i,this.ModuleID).subscribe(function(e){1==e.status?(t.displayDialog=!1,t.displayDialog2=!1,t.getData(),t.Form.resetForm(),t.messageService.add({severity:"success",summary:e.message,detail:""})):t.messageService.add({severity:"success",summary:"Error:",detail:e})},function(e){t.messageService.add({severity:"success",summary:e,detail:""})})}}}]),t}();b.ctorParameters=function(){return[{type:m.gz},{type:m.F0},{type:h.vq},{type:r.sBO},{type:h.KD},{type:r.zs3},{type:p.ez},{type:p.YP}]},b.propDecorators={Form:[{type:r.i9L,args:["Form",{static:!1}]}],Form2:[{type:r.i9L,args:["Form2",{static:!1}]}]};var v=[{path:"",component:b=(0,o.gn)([(0,r.wA2)({selector:"app-tablebuilder",template:'<div class="animated fadeIn">\r\n    <div class="row">\r\n      <div class="col-md-12" *ngIf="tableSchema[\'mainschema\'].length > 0 && tableSchema[\'buttonSchema\'].length > 0">\r\n        <div class="card">\r\n          <div class="card-header">\r\n            Table Data\r\n\r\n            <div class="card-header-actions" style="height: 21px;">\r\n                <button pButton class="btn btn-block btn-primary" (click)="createNew()" label="Create New" type="button" icon="pi pi-plus" iconPos="left"></button>\r\n            </div>\r\n          </div>\r\n          <div class="card-body datatable">\r\n            <app-datatable  [tableData]="virtualdata" [tableSchema]="tableSchema" (onclickEvent)="onclickEvent($event)"></app-datatable>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="card">\r\n            <div class="card-header">\r\n              Button Data\r\n\r\n              <div class="card-header-actions" style="height: 21px;">\r\n                  <button pButton class="btn btn-block btn-primary" (click)="createNew2()" label="Create New" type="button" icon="pi pi-plus" iconPos="left"></button>\r\n              </div>\r\n            </div>\r\n            <div class="card-body datatable">\r\n              <app-datatable  [tableData]="virtualdata2" [tableSchema]="tableSchema2" (onclickEvent)="onclickEvent($event)"></app-datatable>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n<p-dialog header="{{pageTitle}}"  [(visible)]="displayDialog" [modal]="true" [style]="{width: \'80vw\'}" [maximizable]="true" [baseZIndex]="10000"\r\n    [draggable]="false" [resizable]="false">\r\n    <app-form #Form [formData]="FormData"  [type]="\'\'" (onclickEvent)="onclickEventForm($event)"></app-form>\r\n</p-dialog>\r\n\r\n<p-dialog header="{{pageTitle}}" [(visible)]="displayDialog2" [modal]="true" [style]="{width: \'80vw\'}" [maximizable]="true" [baseZIndex]="10000"\r\n    [draggable]="false" [resizable]="false">\r\n    <app-form #Form2 [formData]="FormData2"  [type]="\'\'" (onclickEvent)="onclickEventForm($event)"></app-form>\r\n</p-dialog>\r\n\r\n<p-toast position="top-center"></p-toast>\r\n<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>\r\n',providers:[p.ez,p.YP],styles:[""]})],b),data:{title:"Table Builder"}}],f=a(function t(){e(this,t)});f=(0,o.gn)([(0,r.LVF)({imports:[m.Bz.forChild(v)],exports:[m.Bz]})],f);var F=a(function t(){e(this,t)});F=(0,o.gn)([(0,r.LVF)({declarations:[b,s.U,d.n],imports:[n.ez,n.ez,c.UX,c.u5,u.v,f]})],F)}}])}();
//# sourceMappingURL=src_app_views_tablebuilder_tablebuilder_module_ts-es5.js.map